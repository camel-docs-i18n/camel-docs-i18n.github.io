<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--

    Licensed to the Apache Software Foundation (ASF) under one or more
    contributor license agreements.  See the NOTICE file distributed with
    this work for additional information regarding copyright ownership.
    The ASF licenses this file to You under the Apache License, Version 2.0
    (the "License"); you may not use this file except in compliance with
    the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->
<html>
<head>
    <link href="//camel.apache.org/styles/site.css" rel="stylesheet" type="text/css">
    <link href="//camel.apache.org/styles/type-settings.css" rel="stylesheet" type="text/css">
<!-- <script src="//camel.apache.org/styles/prototype.js" type="text/javascript"></script>
    <script src="//camel.apache.org/styles/rico.js" type="text/javascript"></script>    
    <script src="//camel.apache.org/styles/site.js" type="text/javascript"></script> -->

    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">

    <style type="text/css">
      .maincontent { overflow:hidden; }
    </style>
    <!--[if IE]>
    <style type="text/css">
      .maincontent { width:100%; }
    </style>
    <![endif]-->


  <link href='//camel.apache.org/styles/highlighter/styles/shCoreCamel.css' rel='stylesheet' type='text/css' />
  <link href='//camel.apache.org/styles/highlighter/styles/shThemeCamel.css' rel='stylesheet' type='text/css' />
  <script src='//camel.apache.org/styles/highlighter/scripts/shCore.js' type='text/javascript'></script>
  <script src='//camel.apache.org/styles/highlighter/scripts/shBrushJava.js' type='text/javascript'></script>
  <script src='//camel.apache.org/styles/highlighter/scripts/shBrushXml.js' type='text/javascript'></script>
  <script src='//camel.apache.org/styles/highlighter/scripts/shBrushPlain.js' type='text/javascript'></script>
  
  <script type="text/javascript">
  SyntaxHighlighter.defaults['toolbar'] = false;
  SyntaxHighlighter.all();
  </script>

    <title>
    Apache Camel: Data Format
    </title>
<script type="text/javascript">window.liveSettings={api_key:"9bc4339107134d7498f2c68a7d3db5ee"};</script><script type="text/javascript" src="//cdn.transifex.com/live.js"></script></head>
<body>
<div class="white_box">
<div class="header">
  <div class="header_l">
    <div class="header_r">
    </div>
  </div>
</div>
<div class="content">
  <div class="content_l">
    <div class="content_r">
      <div>
          <!-- Banner -->
<div id="banner-content"><div id="asf_logo">
	<div id="activemq_logo" style="height:108px; background:transparent url(//camel.apache.org/banner.data/apache-camel-7.png) no-repeat scroll left top;">
            <a shape="rect" style="float:left; width:310px;display:block;text-indent:-5000px;text-decoration:none;line-height:140px; margin-top:20px; margin-left:18px;" href="http://camel.apache.org/">Camel</a>
            <a shape="rect" style="float:right; width:180px;display:block;text-indent:-5000px;text-decoration:none;line-height:80px; margin-top:45px; margin-right:10px;" href="http://www.apache.org">Apache</a>
	</div>
</div></div>
          <!-- Banner -->
        <div class="top_red_bar">
          <div id="site-breadcrumbs">
                <!-- Breadcrumbs -->
<a href="index.html">Apache Camel</a>&nbsp;&gt;&nbsp;<a href="documentation.html">Documentation</a>&nbsp;&gt;&nbsp;<a href="architecture.html">Architecture</a>&nbsp;&gt;&nbsp;<a href="data-format.html">Data Format</a>
          </div>
          <!-- Quicklinks -->
<div id="site-quicklinks"><p><a shape="rect" href="download.html">Download</a> | <a shape="rect" href="javadoc.html">JavaDoc</a> | <a shape="rect" href="source.html">Source</a> | <a shape="rect" href="discussion-forums.html">Forums</a> | <a shape="rect" href="support.html">Support</a></p></div>
          <!-- Quicklinks -->
        </div>

	<table border="0">
	<tbody>
        <tr>
        <td valign="top" width="100%">
<div class="wiki-content maincontent"><h2 id="DataFormat-DataFormat">Data Format</h2>

<p>Camel supports a pluggable DataFormat to allow messages to be marshalled to and from binary or text formats to support a kind of <a shape="rect" href="message-translator.html">Message Translator</a>.</p>

<p>The following data formats are currently supported:</p>

<ul><li>Standard JVM object marshalling<ul><li><a shape="rect" href="serialization.html">Serialization</a></li><li><a shape="rect" href="string.html">String</a></li></ul></li></ul><ul><li>Object marshalling<ul><li><a shape="rect" href="avro.html">Avro</a></li><li><a shape="rect" href="boon.html">Boon</a></li><li><a shape="rect" href="json.html">JSON</a></li><li><a shape="rect" href="protobuf.html">Protobuf</a></li></ul></li></ul><ul><li>Object/XML marshalling<ul><li><a shape="rect" href="castor.html">Castor</a></li><li><a shape="rect" href="jaxb.html">JAXB</a></li><li><a shape="rect" href="xmlbeans.html">XmlBeans</a></li><li><a shape="rect" href="xstream.html">XStream</a></li><li><a shape="rect" href="jibx.html">JiBX</a></li><li><a shape="rect" href="jackson-xml.html">Jackson XML</a></li></ul></li></ul><ul><li>Object/XML/Webservice marshalling<ul><li><a shape="rect" href="soap.html">SOAP</a></li></ul></li></ul><ul><li>Direct JSON / XML marshalling<ul><li><a shape="rect" href="xmljson.html">XmlJson</a></li></ul></li></ul><ul><li>Flat data structure marshalling<ul><li><a shape="rect" href="beanio.html">BeanIO</a></li><li><a shape="rect" href="bindy.html">Bindy</a></li><li><a shape="rect" href="csv.html">CSV</a></li><li><a shape="rect" href="edi.html">EDI</a></li><li><a shape="rect" href="flatpack-dataformat.html">Flatpack DataFormat</a></li><li><a shape="rect" href="univocity-parsers-formats.html">uniVocity-parsers formats</a></li></ul></li></ul><ul><li>Domain specific marshalling<ul><li><a shape="rect" href="hl7-dataformat.html">HL7 DataFormat</a></li></ul></li></ul><ul><li>Compression<ul><li><a shape="rect" href="gzip-data-format.html">GZip data format</a></li><li><a shape="rect" href="zip-dataformat.html">Zip DataFormat</a></li><li><a shape="rect" href="zip-file-dataformat.html">Zip File DataFormat</a></li><li><a shape="rect" href="lzf-data-format.html">LZF Data Format</a></li></ul></li></ul><ul><li>Security<ul><li><a shape="rect" href="crypto.html">Crypto</a></li><li><a shape="rect" href="crypto.html">PGP</a></li><li><a shape="rect" href="xmlsecurity-dataformat.html">XMLSecurity DataFormat</a></li></ul></li></ul><ul><li>Misc.<ul><li><a shape="rect" href="base64.html">Base64</a></li><li><a shape="rect" href="custom-dataformat.html">Custom DataFormat</a> - to use your own custom implementation</li><li><a shape="rect" href="mime-multipart.html">MIME-Multipart</a></li><li><a shape="rect" href="rss.html">RSS</a></li><li><a shape="rect" href="tidymarkup.html">TidyMarkup</a></li><li><a shape="rect" href="syslog.html">Syslog</a></li><li><a shape="rect" href="ical.html">ICal</a></li><li><a shape="rect" href="barcode-data-format.html">Barcode </a>- to read and generate barcodes (QR-Code, PDF417, ...)</li></ul></li></ul>

<p>And related is the following:</p>
<ul class="alternate"><li><a shape="rect" href="dataformat-component.html">DataFormat Component</a> for working with <a shape="rect" href="data-format.html">Data Format</a>s as if it was a regular <a shape="rect" href="component.html">Component</a> supporting <a shape="rect" href="endpoint.html">Endpoint</a>s and <a shape="rect" href="uris.html">URIs</a>.</li><li><a shape="rect" href="dozer-type-conversion.html">Dozer Type Conversion</a> using Dozer for type converting POJOs</li></ul>


<h3 id="DataFormat-Unmarshalling">Unmarshalling</h3>

<p>If you receive a message from one of the Camel <a shape="rect" href="components.html">Components</a> such as <a shape="rect" href="file2.html">File</a>, <a shape="rect" href="http.html">HTTP</a> or <a shape="rect" href="jms.html">JMS</a> you often want to unmarshal the payload into some bean so that you can process it using some <a shape="rect" href="bean-integration.html">Bean Integration</a> or perform <a shape="rect" href="predicate.html">Predicate</a> evaluation and so forth. To do this use the <strong>unmarshal</strong> word in the <a shape="rect" href="dsl.html">DSL</a> in Java or the <a shape="rect" href="xml-configuration.html">Xml Configuration</a>.</p>

<p>For example</p>

<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<script class="brush: java; gutter: false; theme: Default" type="syntaxhighlighter"><![CDATA[
DataFormat jaxb = new JaxbDataFormat(&quot;com.acme.model&quot;);

from(&quot;activemq:My.Queue&quot;).
  unmarshal(jaxb).
  to(&quot;mqseries:Another.Queue&quot;);
]]></script>
</div></div>

<p>The above uses a named DataFormat of <em>jaxb</em> which is configured with a number of Java package names. You can if you prefer use a named reference to a data format which can then be defined in your <a shape="rect" href="registry.html">Registry</a> such as via your <a shape="rect" href="spring.html">Spring</a> XML file.</p>

<p>You can also use the DSL itself to define the data format as you use it. For example the following uses Java serialization to unmarshal a binary file then send it as an ObjectMessage to <a shape="rect" href="activemq.html">ActiveMQ</a></p>

<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<script class="brush: java; gutter: false; theme: Default" type="syntaxhighlighter"><![CDATA[
from(&quot;file://foo/bar&quot;).
  unmarshal().serialization().
  to(&quot;activemq:Some.Queue&quot;);
]]></script>
</div></div>

<h3 id="DataFormat-Marshalling">Marshalling</h3>

<p>Marshalling is the opposite of unmarshalling, where a bean is marshalled into some binary or textual format for transmission over some transport via a Camel <a shape="rect" href="component.html">Component</a>. Marshalling is used in the same way as unmarshalling above; in the <a shape="rect" href="dsl.html">DSL</a> you can use a DataFormat instance, you can configure the DataFormat dynamically using the DSL or you can refer to a named instance of the format in the <a shape="rect" href="registry.html">Registry</a>.</p>

<p>The following example unmarshals via serialization then marshals using a named JAXB data format to perform a kind of <a shape="rect" href="message-translator.html">Message Translator</a></p>

<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<script class="brush: java; gutter: false; theme: Default" type="syntaxhighlighter"><![CDATA[
from(&quot;file://foo/bar&quot;).
  unmarshal().serialization(). 
  marshal(&quot;jaxb&quot;).
  to(&quot;activemq:Some.Queue&quot;);
]]></script>
</div></div>


<h3 id="DataFormat-UsingSpringXML">Using Spring XML</h3>

<p>This example shows how to configure the data type just once and reuse it on multiple routes</p>

<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<script class="brush: xml; gutter: false; theme: Default" type="syntaxhighlighter"><![CDATA[
&lt;camelContext id=&quot;camel&quot; xmlns=&quot;http://camel.apache.org/schema/spring&quot;&gt;
  &lt;dataFormats&gt;
    &lt;jaxb id=&quot;myJaxb&quot; prettyPrint=&quot;true&quot; contextPath=&quot;org.apache.camel.example&quot;/&gt;
  &lt;/dataFormats&gt;

  &lt;route&gt;
    &lt;from uri=&quot;direct:start&quot;/&gt;
    &lt;marshal ref=&quot;myJaxb&quot;/&gt;
    &lt;to uri=&quot;direct:marshalled&quot;/&gt;
  &lt;/route&gt;
  &lt;route&gt;
    &lt;from uri=&quot;direct:marshalled&quot;/&gt;
    &lt;unmarshal ref=&quot;myJaxb&quot;/&gt;
    &lt;to uri=&quot;mock:result&quot;/&gt;
  &lt;/route&gt;

&lt;/camelContext&gt;
]]></script>
</div></div>

<p>You can also define reusable data formats as Spring beans </p>

<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<script class="brush: java; gutter: false; theme: Default" type="syntaxhighlighter"><![CDATA[
&lt;bean id=&quot;myJaxb&quot; class=&quot;org.apache.camel.model.dataformat.JaxbDataFormat&quot;&gt;
  &lt;property name=&quot;prettyPrint&quot; value=&quot;true&quot;/&gt;
  &lt;property name=&quot;contextPath&quot; value=&quot;org.apache.camel.example&quot;/&gt;
&lt;/bean&gt;  
]]></script>
</div></div></div>
        </td>
        <td valign="top">
          <div class="navigation">
            <div class="navigation_top">
                <!-- NavigationBar -->
<div class="navigation_bottom" id="navigation_bottom"><h3 id="Navigation-Overview"><a shape="rect" href="overview.html">Overview</a></h3><ul class="alternate"><li><a shape="rect" href="index.html">Home</a></li><li><a shape="rect" href="download.html">Download</a></li><li><a shape="rect" href="getting-started.html">Getting Started</a></li><li><a shape="rect" href="faq.html">FAQ</a></li></ul><h3 id="Navigation-Documentation"><a shape="rect" href="documentation.html">Documentation</a></h3><ul class="alternate"><li><a shape="rect" href="user-guide.html">User Guide</a></li><li><a shape="rect" href="manual.html">Manual</a></li><li><a shape="rect" href="books.html">Books</a></li><li><a shape="rect" href="tutorials.html">Tutorials</a></li><li><a shape="rect" href="examples.html">Examples</a></li><li><a shape="rect" href="cookbook.html">Cookbook</a></li><li><a shape="rect" href="architecture.html">Architecture</a></li><li><a shape="rect" href="enterprise-integration-patterns.html">Enterprise Integration Patterns</a></li><li><a shape="rect" href="dsl.html">DSL</a></li><li><a shape="rect" href="components.html">Components</a></li><li><a shape="rect" href="data-format.html">Data Format</a></li><li><a shape="rect" href="languages.html">Languages</a></li><li><a shape="rect" href="security.html">Security</a></li><li><a shape="rect" href="security-advisories.html">Security Advisories</a></li></ul><h3 id="Navigation-Search">Search</h3><form enctype="application/x-www-form-urlencoded" method="get" id="cse-search-box" action="http://www.google.com/cse">
  <div>
    <input type="hidden" name="cx" value="007878419884033443453:m5nhvy4hmyq">
    <input type="hidden" name="ie" value="UTF-8">
    <input type="text" name="q" size="21">
    <input type="submit" name="sa" value="Search">
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en"></script><h3 id="Navigation-Community"><a shape="rect" href="community.html">Community</a></h3><ul class="alternate"><li><a shape="rect" href="support.html">Support</a></li><li><a shape="rect" href="contributing.html">Contributing</a></li><li><a shape="rect" href="discussion-forums.html">Discussion Forums</a></li><li><a shape="rect" href="mailing-lists.html">Mailing Lists</a></li><li><a shape="rect" href="user-stories.html">User Stories</a></li><li><a shape="rect" href="news.html">News</a></li><li><a shape="rect" href="articles.html">Articles</a></li><li><a shape="rect" href="site.html">Site</a></li><li><a shape="rect" href="team.html">Team</a></li><li><a shape="rect" class="external-link" href="http://camel-extra.googlecode.com/" rel="nofollow">Camel Extra</a></li></ul><h3 id="Navigation-Developers"><a shape="rect" href="developers.html">Developers</a></h3><ul class="alternate"><li><a shape="rect" href="developers.html">Developer Guide</a></li><li><a shape="rect" href="source.html">Source</a></li><li><a shape="rect" href="building.html">Building</a></li><li><a shape="rect" href="javadoc.html">JavaDoc</a></li><li><a shape="rect" href="irc-room.html">IRC Room</a></li></ul><h3 id="Navigation-ApacheSoftwareFoundation">Apache Software Foundation</h3><ul class="alternate"><li><a shape="rect" class="external-link" href="http://www.apache.org/licenses/">License</a></li><li><a shape="rect" class="external-link" href="http://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li><li><a shape="rect" class="external-link" href="http://www.apache.org/foundation/thanks.html">Thanks</a></li><li><a shape="rect" class="external-link" href="http://www.apache.org/security/">Security</a></li></ul></div>
                <!-- NavigationBar -->
            </div>
          </div>
        </td>
        </tr>
	</tbody>
        </table>


        <div class="bottom_red_bar"></div>
      </div>
    </div>
  </div>
</div>
<div class="black_box">
<div class="footer">
  <div class="footer_l">
    <div class="footer_r">
      <div>
        <a href="$base/privacy-policy.html">Privacy Policy</a> -
        (<a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=68406">edit page</a>)
   	 (<a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=68406&amp;showComments=true&amp;showCommentArea=true#addcomment">add comment</a>)
      </div>
    </div>
  </div>
</div>
</div>
</div>
<div class="design_attribution">
&copy; 2004-2015 The Apache Software Foundation.
<br>          
Apache Camel, Camel, Apache, the Apache feather logo, and the Apache Camel project logo are trademarks of The Apache Software Foundation.  All other marks mentioned may be trademarks or registered trademarks of their respective owners.
<br>
<a href="http://hiramchirino.com">Graphic Design By Hiram</a>
</div>

<!-- Camel committers that would like access to the Analytics, send a note to private@camel.apache.org -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', '']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

</body>
</html>


